# 객체지향과 프로그래밍 및 에러처리

<br>

## 객체지향 프로그래밍(OOP) 이란?

### 객체지향 프로그래밍

* 컴퓨터 프로그래밍의 패러다임(방법론) 중 하나

* 프로그램을 여러 개의 독립된 객체들과 그 객체 간의 상호작용으로 파악하는 프로그래밍 방법

* **객체**란 `변수(정보)와 함수(행동)를 가진 것`

* Ex. 콘서트
  
  * 가수 객체 - 정보: 키 / 행동: 노래, 춤
  
  * 감독 객체
  
  * 관객 객체

* 데이터와 기능(메서드) 분리, 추상화된 구조(인터페이스)

<br>

### 객체지향 프로그래밍이 필요한 이유

* 현실 세계를 프로그램 설계에 반영(추상화)
  
  * 추상화란 복잡한 것을 숨기고 필요한 것을 드러내는 것
  
  * `가수.노래()` 이 안에가 어떻게 생겼는지 몰라도 사용 가능!

<br>

### 객체지향의 장점 / 단점

* 장점
  
  * 클래스 단위로 모듈화시켜 개발할 수 있으므로 `많은 인원이 참여하는 대규모 소프트웨어 개발에 적합`
  
  * 필요한 부분만 수정하기 쉽기 때문에 프로그램의 유지보수가 쉬움

* 단점
  
  * 설계 시 많은 노력과 시간이 필요함
    
    * 다양한 객체들의 상호 작용 구조를 만들기 위해 많은 시간과 노력이 필요
    
    * (그래서 알고리즘 문제 풀 때 객체지향 적용을 하지 않음)
  
  * 실행 속도가 상대적으로 느림
    
    * 절차 지향 프로그래밍이 컴퓨터의 처리구조와 비슷해서 실행 속도가 빠름
    
    * (사람이 편하면 컴퓨터가 힘들다)

<br>

## OOP 기초

### 객체

* `속성`과 `행동`으로 구성된 모든 것

* Ex. 클래스(설계도): 가수 -> 객체(실제 사례): 이찬혁
  
  * 속성(`변수`) - 직업: 가수, 생년월일: 1996년 9월 12일, 국적: 대한민국
  
  * 행동(`함수-메서드`) - 랩하기(): 어느새~, 댄스(): 두둠칫, Make_some_noise(): 와아워어우

* 파이썬은 모든 것이 객체: 모든 것에 속성과 행동이 존재

* 객체의 특징
  
  * 타입: 어떤 연산자와 조작이 가능한가?
  
  * 속성: 어떤 상태(데이터)를 가지는가?
  
  * 조작법: 어떤 행위(함수)를 할 수 있는가?

<br>

### 객체와 인스턴스

* 클래스로 만든 객체를 인스턴스 라고도 함
  
  * 객체와 인스턴스의 차이점?
  
  * 특정 타입(클래스)의 객체를 인스턴스라고 함

* 객체와 클래스 = 실제사례(값)과 타입

* 객체는 특정 타입의 인스턴스
  
  * 123, 900, 5는 모두 int의 인스턴스
  
  * 'hello', 'bye'는 모두 string의 인스턴스
  
  * [234,12,2], []는 모두 list의 인스턴스

<br>

### 객체와 클래스 문법

* 클래스 정의 `class MyClass:`

* 인스턴스 생성  `my_instance = MyClass()`

* 메서드 호출 `my_instance.my_method()`

* 속성 `my_instance.my_sttribute`

<br>

### 객체 비교하기

* `==`
  
  * 동등한(equal)
  
  * 변수가 참조하는 객체가 동등한(내용이 같은) 경우 True

* `is`
  
  * 동일한(identical) - 분신술
  
  * 두 변수가 동일한 객체를 가리키는 경우 True

```python
a = [1, 2, 3]
b = [1, 2, 3]

print(a == b, a is b) # True False


a = [1, 2, 3]
b = a

print(a == b, a is b) # True True
```

<br>

## OOP 속성(정보)

### 속성

* 특정 데이터 타입/클래스의 객체들이 가지게 될 상태/데이터를 의미

* 클래스 변수/인스턴스 변수가 존재

<br>

### 인스턴스 변수

* 인스턴스가 개인적으로 가지고 있는 속성(attribute)

* 각 인스턴스들의 고유한 변수(나만 쓰는 변수!!)

* 생성자 메서드(`__init__`)에서 `self.<name>`으로 정의

* 인스턴스가 생성된 이후 `<instance>.<name>`으로 접근 및 할당

<br>

### 클래스 변수

* 클래스 선언 내부에서 정의

* `<classname>.<name>`으로 접근 및 할당

* `<instance>.<name>` 인스턴스를 통해서도 클래스 변수 사용 가능

* Ex. 인스타그램 유저수 정보는? 클래스 변수로 만들어야 함
  
  * 클래스 변수 -> 공용
  
  * 인스턴스 변수 -> 개인용

<br>

### 클래스 변수와 인스턴스 변수 **

* 클래스 변수를 변경할 떄는 항상 `클래스.클래스변수` 형식으로 변경!!!

<br>

## OOP 매서드(행동)

### 메서드

* 특정 데이터 타입/클래스의 객체에 공통적으로 적용 가능한 행위(함수)

* 클래스 안에 있는 함수를 메서드라고 함

<br>

### 메서드의 종류 **

* 인스턴스 메서드
  
  * 인스턴스 변수를 사용하거나, 인스턴스 변수에 값을 설정하는 메서드
  
  * 클래스 내부에 정의되는 메서드의 기본
  
  * 호출 시, 첫번째 인자로 인스턴스 자기자신(self)이 전달됨(자동)
  
  * `self`가 있으면 인스턴스 메서드!
    
    * self는 인스턴스 자기자신
  
  * 생성자 메서드
  
  * 매직 메서드
  
  * 소멸자 메서드

* 클래스 메서드
  
  * 클래스 처리

* 정적 메서드
  
  * 나머지

<br>

### 메서드 정리

* 인스턴스 메서드
  
  * 호출한 인스턴스를 의미하는 `self` 매개 변수를 통해 인스턴스를 조작

* 클래스 메서드
  
  * 클래스를 의미하는 `cls` 매개 변수를 통해 클래스 조작

* 스태틱 메서드
  
  * 클래스 변수나 인스턴스 변수를 사용하지 않는 경우에 사용
    
    * 객체 상태나 클래스 상태를 수정할 수 없음

```python
class MyClass:

    def method(self):
        return 'instance method', self

    @classmethod
    def classmethod(cls):
        return 'class method', cls

    @staticmethod
    def staticmethod():
        return 'static method'
```

<br>

## 객체지향의 핵심 개념

* 추상화

* 상속

* 다형성

* 캡슐화

<br>

### 추상화

* 현실 세계를 프로그램 설계에 반영
  
  * 복잡한 것은 숨기고, 필요한 것만 들어내기

* 추상화 종류
  
  * 변수
  
  * 함수
  
  * 클래스

<br>

### 상속

* 객체지향 프로그래밍의 꽃

* 상속이란 두 클래스 사이 부모-자식 관계를 정립하는 것

* 클래스는 상속이 가능함
  
  * 모든 파이썬 클래스는 object를 상속 받음
  
  ```python
  class ChildClass(ParentClass):
  ```

* 하위 클래스(자식)는 상위 클래스(부모)에 정의된 `속성, 행동, 관계 및 제약 조건을 모두` 상속 받음 = 흡수

* 부모클래스의 속성, 메서드가 자식 클래스에 상속되므로, 코드 재사용성이 높아짐

* super()를 통해 부모 클래스의 요소를 호출할 수 있음

* 메서드 오버리이딩을 통해 자식 클래스애서 재정의 가능함

* 다중 상속
  
  * 두 개 이상의 클래스를 상속 받는 경우
  
  * 상속받은 모든 클래스의 요소를 활용 가능함
  
  * 중복된 속성이나 메서드가 있는 경우 상속 순서에 의해 결정됨

<br>

### 다형성

* 동일한 메서드가 클래스에 따라 다르게 행동할 수 있음을 의미

* 이름은 똑같으나 생긴게 다르다

* 즉, 서로 다른 클래스에 속해있는 객체들이 동일한 메시지에 대해 다른 방식으로 응답할 수 있음

* 메서드 오버라이딩: 상속받은 메서드를 재정의
  
  * 클래스 상속 시, 부모 클래스에서 정의한 메서드를 자식 클래스에서 변경
  
  * 부모 클래스의 메서드 이름과 기본 기능은 그대로 사용하지만, 특정 기능을 바꾸고 싶을 때 사용
  
  * 부모 클래스의 메서드를 실행시키고 싶은 경우 super를 활용

<br>

### 캡슐화

* 객체의 일부 구현 내용에 대해 외부로부터의 직접적인 액세스를 차단
  
  * Ex. 주민등록번호

* 파이썬에서 암묵적으로 존재하지만, 언어적으로는 존재하지 않음(공식적X)

* 접근제어자 종류
  
  * Public Access Modifier
    
    * `언더바 없이` 시작하는 메서드나 속성
    
    * 어디서나 호출 가능, 하위 클래스 오버라이드 허용
    
    * 일반적으로 작성되는 메서드와 속성의 대다수를 차지
  
  * Protected Access Modifier
    
    * `언더바 1개`로 시작하는 메서드나 속성
    
    * 암묵적 규칙에 의해 부모 클래스 내부와 자식 클래스에서만 호출 가능
    
    * 하위 클래스 오버라이드 허용
  
  * Private Access Modifier
    
    * `언더바 2개`로 시작하는 메서드나 속성
    
    * 본 클래스 내부에서만 사용이 가능
    
    * 하위클래스 상속 및 호출 불가능 (오류)
    
    * 외부 호출 불가능 (오류)

* getter메서드와 setter메서드
  
  * 변수에 접근할 수 있는 메서드를 별도로 생성
    
    * getter 메서드: 변수의 값을 읽는 메서드
      
      * `@property`데코레이터 사용
    
    * setter 메서드: 변수의 값을 설정하는 성격의 메서드
      
      * `@변수.setter` 사용

<br>

## 에러와 예외 처리

### 디버깅

* 잘못된 프로그램을 수정하는 것을 디버깅이라함 de+bugging

* 에러 메시지가 발생하는 경우
  
  * 해당 하는 위치를 찾아 메시지를 해결

* 로직 에러가 발생하는 경우
  
  * 명시적인 에러 메시지 없이 예상과 다른 결과가 나온 경우
    
    * 정상적으로 동작하였던 코드 이후 작성된 코드를 생각해봄
    
    * 전체 코드를 살펴봄
    
    * 휴식을 가져봄
    
    * 누군가에게 설명해봄
    
    * ...

* 디버깅 하는 방법
  
  * *"코드 상태를 신중하게 출력해가며 심사숙고하는 것보다 효과적인 디버깅 도구는 없습니다."*
  
  * print 함수 활용
  
  * 개발 환경(text editor, IDE) 등에서 제공하는 기능 활용
    
    * breakpoint, 변수 조회 등
  
  * Python tutor 활용 (단순 파이썬 코드인 경우)
  
  * 뇌컴파일, 눈디버깅 (코드도 많이 봐야 문제가 보인다!)

<br>

### 에러와 예외

* 문법 에러(Syntax Error)

* 예외(Exception)




















